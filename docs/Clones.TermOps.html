<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Clones.TermOps</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">---
layout: default
title : &quot;Clones.TermOps module&quot;
date : &quot;2023-10-18&quot;
author: &quot;Gonzalo Zigarán&quot;
---

# Term Operations


</a><a id="124" class="Markup">```agda
</a>
<a id="133" class="Symbol">{-#</a> <a id="137" class="Keyword">OPTIONS</a> <a id="145" class="Pragma">--allow-unsolved-metas</a> <a id="168" class="Symbol">#-}</a>

<a id="173" class="Keyword">module</a> <a id="180" href="Clones.TermOps.html" class="Module">Clones.TermOps</a> <a id="195" class="Keyword">where</a>

<a id="202" class="Keyword">open</a> <a id="207" class="Keyword">import</a> <a id="214" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>               <a id="243" class="Keyword">using</a> <a id="249" class="Symbol">()</a> <a id="252" class="Keyword">renaming</a> <a id="261" class="Symbol">(</a> <a id="263" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="267" class="Symbol">to</a> <a id="270" class="Primitive">Type</a> <a id="275" class="Symbol">)</a>
<a id="277" class="Keyword">open</a> <a id="282" class="Keyword">import</a> <a id="289" href="Level.html" class="Module">Level</a>                        <a id="318" class="Keyword">using</a> <a id="324" class="Symbol">(</a> <a id="326" href="Agda.Primitive.html#804" class="Primitive Operator">_⊔_</a> <a id="330" class="Symbol">;</a> <a id="332" href="Agda.Primitive.html#591" class="Postulate">Level</a> <a id="338" class="Symbol">;</a> <a id="340" href="Agda.Primitive.html#774" class="Primitive">suc</a> <a id="344" class="Symbol">)</a>
<a id="346" class="Keyword">open</a> <a id="351" class="Keyword">import</a> <a id="358" href="Data.Fin.html" class="Module">Data.Fin</a>                     <a id="387" class="Keyword">using</a> <a id="393" class="Symbol">(</a> <a id="395" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="399" class="Symbol">)</a>
<a id="401" class="Keyword">open</a> <a id="406" class="Keyword">import</a> <a id="413" href="Data.Product.html" class="Module">Data.Product</a>                 <a id="442" class="Keyword">using</a> <a id="448" class="Symbol">(</a> <a id="450" href="Data.Product.html#925" class="Function">Σ-syntax</a> <a id="459" class="Symbol">;</a> <a id="461" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="467" class="Symbol">;</a> <a id="469" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="475" class="Symbol">;</a> <a id="477" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="481" class="Symbol">)</a>
<a id="483" class="Keyword">open</a> <a id="488" class="Keyword">import</a> <a id="495" href="Relation.Unary.html" class="Module">Relation.Unary</a>       <a id="516" class="Keyword">using</a> <a id="522" class="Symbol">(</a> <a id="524" href="Relation.Unary.html#1110" class="Function">Pred</a>  <a id="530" class="Symbol">)</a>

<a id="533" class="Keyword">import</a> <a id="540" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="578" class="Symbol">as</a> <a id="581" class="Module">Eq</a>
<a id="584" class="Keyword">open</a> <a id="589" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="592" class="Keyword">using</a> <a id="598" class="Symbol">(</a> <a id="600" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="603" class="Symbol">;</a> <a id="605" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="609" class="Symbol">;</a> <a id="611" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="615" class="Symbol">)</a>
<a id="617" class="Keyword">open</a> <a id="622" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">Eq.≡-Reasoning</a> <a id="637" class="Keyword">using</a> <a id="643" class="Symbol">(</a> <a id="645" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">_≡⟨⟩_</a> <a id="651" class="Symbol">;</a> <a id="653" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">step-≡</a> <a id="660" class="Symbol">;</a> <a id="662" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">_∎</a><a id="664" class="Symbol">)</a>

<a id="667" class="Keyword">open</a> <a id="672" class="Keyword">import</a> <a id="679" href="Overture.html" class="Module">Overture</a>        <a id="695" class="Keyword">using</a> <a id="701" class="Symbol">(</a> <a id="703" href="Overture.Basic.html#9592" class="Function Operator">_≈_</a> <a id="707" class="Symbol">)</a>

<a id="710" class="Keyword">private</a> <a id="718" class="Keyword">variable</a> <a id="727" href="Clones.TermOps.html#727" class="Generalizable">α</a> <a id="729" href="Clones.TermOps.html#729" class="Generalizable">ρ</a> <a id="731" href="Clones.TermOps.html#731" class="Generalizable">β</a> <a id="733" class="Symbol">:</a> <a id="735" href="Agda.Primitive.html#591" class="Postulate">Level</a>

<a id="742" class="Markup">```
</a><a id="746" class="Background">
Para un álgebra $𝑨$ dada, podemos hablar del Clon de $𝑨$ cómo todas las operaciones que se pueden generar a partir de componer las funciones del álgebra y las proyecciones. Este clon coincide con las *term-operations*, que son todas las operaciones definidas a partir de un término.  


</a><a id="1034" class="Markup">```agda
</a>
<a id="1043" class="Comment">-- term-operations</a>
<a id="1062" class="Keyword">open</a> <a id="1067" class="Keyword">import</a> <a id="1074" href="Clones.Basic.html" class="Module">Clones.Basic</a> <a id="1087" class="Keyword">using</a> <a id="1093" class="Symbol">(</a> <a id="1095" href="Clones.Basic.html#899" class="Function">FinOps</a> <a id="1102" class="Symbol">;</a> <a id="1104" href="Clones.Basic.html#1279" class="Function">FinRels</a> <a id="1112" class="Symbol">)</a>
<a id="1114" class="Keyword">open</a> <a id="1119" class="Keyword">import</a> <a id="1126" href="Base.Structures.Basic.html" class="Module">Base.Structures.Basic</a> <a id="1148" class="Keyword">using</a> <a id="1154" class="Symbol">(</a> <a id="1156" href="Base.Structures.Basic.html#1233" class="Record">signature</a> <a id="1166" class="Symbol">;</a> <a id="1168" href="Base.Structures.Basic.html#1566" class="Record">structure</a> <a id="1178" class="Symbol">)</a>
<a id="1180" class="Keyword">open</a> <a id="1185" href="Base.Structures.Basic.html#1233" class="Module">signature</a> <a id="1195" class="Symbol">;</a> <a id="1197" class="Keyword">open</a> <a id="1202" href="Base.Structures.Basic.html#1566" class="Module">structure</a>
<a id="1212" class="Keyword">open</a> <a id="1217" class="Keyword">import</a> <a id="1224" href="Base.Terms.Basic.html" class="Module">Base.Terms.Basic</a> <a id="1241" class="Keyword">using</a> <a id="1247" class="Symbol">(</a> <a id="1249" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="1254" class="Symbol">)</a>
<a id="1256" class="Keyword">open</a> <a id="1261" class="Keyword">import</a> <a id="1268" href="Base.Structures.Terms.html" class="Module">Base.Structures.Terms</a> <a id="1290" class="Keyword">using</a> <a id="1296" class="Symbol">(</a> <a id="1298" href="Base.Structures.Terms.html#1516" class="Function Operator">_⟦_⟧</a> <a id="1303" class="Symbol">)</a>
<a id="1305" class="Keyword">variable</a>
 <a id="1315" href="Clones.TermOps.html#1315" class="Generalizable">𝓞₀</a> <a id="1318" href="Clones.TermOps.html#1318" class="Generalizable">𝓥₀</a> <a id="1321" href="Clones.TermOps.html#1321" class="Generalizable">𝓞₁</a> <a id="1324" href="Clones.TermOps.html#1324" class="Generalizable">𝓥₁</a> <a id="1327" href="Clones.TermOps.html#1327" class="Generalizable">χ</a> <a id="1329" class="Symbol">:</a> <a id="1331" href="Agda.Primitive.html#591" class="Postulate">Level</a>
 <a id="1338" href="Clones.TermOps.html#1338" class="Generalizable">𝐹</a> <a id="1340" class="Symbol">:</a> <a id="1342" href="Base.Structures.Basic.html#1233" class="Record">signature</a> <a id="1352" href="Clones.TermOps.html#1315" class="Generalizable">𝓞₀</a> <a id="1355" href="Clones.TermOps.html#1318" class="Generalizable">𝓥₀</a>
 <a id="1359" href="Clones.TermOps.html#1359" class="Generalizable">𝑅</a> <a id="1361" class="Symbol">:</a> <a id="1363" href="Base.Structures.Basic.html#1233" class="Record">signature</a> <a id="1373" href="Clones.TermOps.html#1321" class="Generalizable">𝓞₁</a> <a id="1376" href="Clones.TermOps.html#1324" class="Generalizable">𝓥₁</a>
 
<a id="TermOps"></a><a id="1381" href="Clones.TermOps.html#1381" class="Function">TermOps</a> <a id="1389" class="Symbol">:</a> <a id="1391" class="Symbol">(</a><a id="1392" href="Clones.TermOps.html#1392" class="Bound">𝑨</a> <a id="1394" class="Symbol">:</a> <a id="1396" href="Base.Structures.Basic.html#1566" class="Record">structure</a> <a id="1406" href="Clones.TermOps.html#1338" class="Generalizable">𝐹</a> <a id="1408" href="Clones.TermOps.html#1359" class="Generalizable">𝑅</a> <a id="1410" class="Symbol">{</a><a id="1411" href="Clones.TermOps.html#727" class="Generalizable">α</a><a id="1412" class="Symbol">}</a> <a id="1414" class="Symbol">{</a><a id="1415" href="Clones.TermOps.html#729" class="Generalizable">ρ</a><a id="1416" class="Symbol">})</a> <a id="1419" class="Symbol">→</a> <a id="1421" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="1426" class="Symbol">(</a><a id="1427" href="Clones.Basic.html#899" class="Function">FinOps</a> <a id="1434" class="Symbol">(</a> <a id="1436" href="Base.Structures.Basic.html#1730" class="Field">carrier</a> <a id="1444" href="Clones.TermOps.html#1392" class="Bound">𝑨</a> <a id="1446" class="Symbol">))</a> <a id="1449" class="Symbol">_</a>
<a id="1451" href="Clones.TermOps.html#1381" class="Function">TermOps</a> <a id="1459" href="Clones.TermOps.html#1459" class="Bound">𝑨</a> <a id="1461" class="Symbol">(</a> <a id="1463" href="Clones.TermOps.html#1463" class="Bound">n</a> <a id="1465" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1467" href="Clones.TermOps.html#1467" class="Bound">f</a> <a id="1469" class="Symbol">)</a> <a id="1471" class="Symbol">=</a> <a id="1473" href="Data.Product.html#925" class="Function">Σ[</a> <a id="1476" href="Clones.TermOps.html#1476" class="Bound">t</a> <a id="1478" href="Data.Product.html#925" class="Function">∈</a> <a id="1480" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="1485" class="Symbol">(</a><a id="1486" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="1490" href="Clones.TermOps.html#1463" class="Bound">n</a><a id="1491" class="Symbol">)</a> <a id="1493" href="Data.Product.html#925" class="Function">]</a> <a id="1495" class="Symbol">(∀</a> <a id="1498" href="Clones.TermOps.html#1498" class="Bound">as</a> <a id="1501" class="Symbol">→</a> <a id="1503" href="Clones.TermOps.html#1467" class="Bound">f</a> <a id="1505" href="Clones.TermOps.html#1498" class="Bound">as</a> <a id="1508" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1510" class="Symbol">(</a><a id="1511" href="Clones.TermOps.html#1459" class="Bound">𝑨</a> <a id="1513" href="Base.Structures.Terms.html#1516" class="Function Operator">⟦</a> <a id="1515" href="Clones.TermOps.html#1476" class="Bound">t</a> <a id="1517" href="Base.Structures.Terms.html#1516" class="Function Operator">⟧</a><a id="1518" class="Symbol">)</a> <a id="1520" href="Clones.TermOps.html#1498" class="Bound">as</a><a id="1522" class="Symbol">)</a>


<a id="1526" class="Markup">```
</a><a id="1530" class="Background">
Lo primero a demostrar es que efectivamente el conjunto de *term-operations* de un álgebra es un Clon. Para ello vamos a utilizar una versión del lema de sustitución. 

</a><a id="1700" class="Markup">```agda
</a>
<a id="1709" class="Keyword">open</a> <a id="1714" class="Keyword">import</a> <a id="1721" href="Base.Terms.Operations.html" class="Module">Base.Terms.Operations</a> <a id="1743" class="Keyword">using</a> <a id="1749" class="Symbol">(</a> <a id="1751" href="Base.Terms.Operations.html#8806" class="Function Operator">_[_]t</a> <a id="1757" class="Symbol">;</a> <a id="1759" href="Base.Terms.Operations.html#8703" class="Function">Substerm</a> <a id="1768" class="Symbol">)</a>
<a id="1770" class="Keyword">open</a> <a id="1775" class="Keyword">import</a> <a id="1782" href="Base.Equality.html" class="Module">Base.Equality</a>   <a id="1798" class="Keyword">using</a> <a id="1804" class="Symbol">(</a> <a id="1806" href="Base.Equality.Welldefined.html#2509" class="Function">swelldef</a> <a id="1815" class="Symbol">)</a>

<a id="subst-lemma-t"></a><a id="1818" href="Clones.TermOps.html#1818" class="Function">subst-lemma-t</a> <a id="1832" class="Symbol">:</a>  <a id="1835" class="Symbol">{</a> <a id="1837" href="Clones.TermOps.html#1837" class="Bound">𝐹</a> <a id="1839" class="Symbol">:</a> <a id="1841" href="Base.Structures.Basic.html#1233" class="Record">signature</a> <a id="1851" href="Clones.TermOps.html#1315" class="Generalizable">𝓞₀</a> <a id="1854" href="Clones.TermOps.html#1318" class="Generalizable">𝓥₀</a><a id="1856" class="Symbol">}</a> <a id="1858" class="Symbol">→</a> <a id="1860" href="Base.Equality.Welldefined.html#2509" class="Function">swelldef</a> <a id="1869" href="Clones.TermOps.html#1318" class="Generalizable">𝓥₀</a> <a id="1872" href="Clones.TermOps.html#727" class="Generalizable">α</a> <a id="1874" class="Symbol">→</a> <a id="1876" class="Symbol">{</a><a id="1877" href="Clones.TermOps.html#1877" class="Bound">I</a> <a id="1879" href="Clones.TermOps.html#1879" class="Bound">J</a> <a id="1881" class="Symbol">:</a> <a id="1883" href="Clones.TermOps.html#270" class="Primitive">Type</a> <a id="1888" href="Clones.TermOps.html#1327" class="Generalizable">χ</a> <a id="1890" class="Symbol">}(</a><a id="1892" href="Clones.TermOps.html#1892" class="Bound">r</a> <a id="1894" class="Symbol">:</a> <a id="1896" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="1901" href="Clones.TermOps.html#1877" class="Bound">I</a><a id="1902" class="Symbol">)(</a><a id="1904" href="Clones.TermOps.html#1904" class="Bound">s</a> <a id="1906" class="Symbol">:</a> <a id="1908" href="Base.Terms.Operations.html#8703" class="Function">Substerm</a> <a id="1917" href="Clones.TermOps.html#1879" class="Bound">J</a> <a id="1919" href="Clones.TermOps.html#1877" class="Bound">I</a> <a id="1921" class="Symbol">)</a>
                 <a id="1940" class="Symbol">(</a><a id="1941" href="Clones.TermOps.html#1941" class="Bound">𝑨</a> <a id="1943" class="Symbol">:</a> <a id="1945" href="Base.Structures.Basic.html#1566" class="Record">structure</a> <a id="1955" href="Clones.TermOps.html#1837" class="Bound">𝐹</a> <a id="1957" href="Clones.TermOps.html#1359" class="Generalizable">𝑅</a> <a id="1959" class="Symbol">{</a><a id="1960" href="Clones.TermOps.html#727" class="Generalizable">α</a><a id="1961" class="Symbol">}</a> <a id="1963" class="Symbol">{</a><a id="1964" href="Clones.TermOps.html#729" class="Generalizable">ρ</a><a id="1965" class="Symbol">})(</a><a id="1968" href="Clones.TermOps.html#1968" class="Bound">as</a> <a id="1971" class="Symbol">:</a> <a id="1973" href="Clones.TermOps.html#1879" class="Bound">J</a> <a id="1975" class="Symbol">→</a> <a id="1977" href="Base.Structures.Basic.html#1730" class="Field">carrier</a> <a id="1985" href="Clones.TermOps.html#1941" class="Bound">𝑨</a><a id="1986" class="Symbol">)</a>
                 <a id="2005" class="Comment">----------------------------------------------------</a>
              <a id="2072" class="Symbol">→</a>  <a id="2075" class="Symbol">(</a><a id="2076" href="Clones.TermOps.html#1941" class="Bound">𝑨</a> <a id="2078" href="Base.Structures.Terms.html#1516" class="Function Operator">⟦</a> <a id="2080" href="Clones.TermOps.html#1892" class="Bound">r</a> <a id="2082" href="Base.Terms.Operations.html#8806" class="Function Operator">[</a> <a id="2084" href="Clones.TermOps.html#1904" class="Bound">s</a> <a id="2086" href="Base.Terms.Operations.html#8806" class="Function Operator">]t</a> <a id="2089" href="Base.Structures.Terms.html#1516" class="Function Operator">⟧</a><a id="2090" class="Symbol">)</a> <a id="2092" href="Clones.TermOps.html#1968" class="Bound">as</a> <a id="2095" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2097" class="Symbol">(</a><a id="2098" href="Clones.TermOps.html#1941" class="Bound">𝑨</a> <a id="2100" href="Base.Structures.Terms.html#1516" class="Function Operator">⟦</a> <a id="2102" href="Clones.TermOps.html#1892" class="Bound">r</a> <a id="2104" href="Base.Structures.Terms.html#1516" class="Function Operator">⟧</a><a id="2105" class="Symbol">)</a> <a id="2107" class="Symbol">(λ</a> <a id="2110" href="Clones.TermOps.html#2110" class="Bound">i</a> <a id="2112" class="Symbol">→</a> <a id="2114" class="Symbol">(</a><a id="2115" href="Clones.TermOps.html#1941" class="Bound">𝑨</a> <a id="2117" href="Base.Structures.Terms.html#1516" class="Function Operator">⟦</a> <a id="2119" href="Clones.TermOps.html#1904" class="Bound">s</a> <a id="2121" href="Clones.TermOps.html#2110" class="Bound">i</a> <a id="2123" href="Base.Structures.Terms.html#1516" class="Function Operator">⟧</a><a id="2124" class="Symbol">)</a> <a id="2126" href="Clones.TermOps.html#1968" class="Bound">as</a><a id="2128" class="Symbol">)</a>
<a id="2130" href="Clones.TermOps.html#1818" class="Function">subst-lemma-t</a> <a id="2144" class="Symbol">_</a>  <a id="2147" class="Symbol">(</a><a id="2148" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">Term.ℊ</a> <a id="2155" href="Clones.TermOps.html#2155" class="Bound">x</a><a id="2156" class="Symbol">)</a>      <a id="2163" href="Clones.TermOps.html#2163" class="Bound">s</a> <a id="2165" href="Clones.TermOps.html#2165" class="Bound">𝑨</a> <a id="2167" href="Clones.TermOps.html#2167" class="Bound">as</a> <a id="2170" class="Symbol">=</a> <a id="2172" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="2177" href="Clones.TermOps.html#1818" class="Function">subst-lemma-t</a> <a id="2191" href="Clones.TermOps.html#2191" class="Bound">wd</a> <a id="2194" class="Symbol">(</a><a id="2195" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">Term.node</a> <a id="2205" href="Clones.TermOps.html#2205" class="Bound">f</a> <a id="2207" href="Clones.TermOps.html#2207" class="Bound">t</a><a id="2208" class="Symbol">)</a> <a id="2210" href="Clones.TermOps.html#2210" class="Bound">s</a> <a id="2212" href="Clones.TermOps.html#2212" class="Bound">𝑨</a> <a id="2214" href="Clones.TermOps.html#2214" class="Bound">as</a> <a id="2217" class="Symbol">=</a> <a id="2219" href="Clones.TermOps.html#2191" class="Bound">wd</a> <a id="2222" class="Symbol">((</a><a id="2224" href="Base.Structures.Basic.html#1749" class="Field">op</a> <a id="2227" href="Clones.TermOps.html#2212" class="Bound">𝑨</a><a id="2228" class="Symbol">)</a> <a id="2230" href="Clones.TermOps.html#2205" class="Bound">f</a><a id="2231" class="Symbol">)</a>  <a id="2234" class="Symbol">(</a> <a id="2236" class="Symbol">λ</a> <a id="2238" href="Clones.TermOps.html#2238" class="Bound">j</a> <a id="2240" class="Symbol">→</a> <a id="2242" class="Symbol">(</a><a id="2243" href="Clones.TermOps.html#2212" class="Bound">𝑨</a> <a id="2245" href="Base.Structures.Terms.html#1516" class="Function Operator">⟦</a> <a id="2247" class="Symbol">(</a><a id="2248" href="Clones.TermOps.html#2207" class="Bound">t</a> <a id="2250" href="Clones.TermOps.html#2238" class="Bound">j</a><a id="2251" class="Symbol">)</a> <a id="2253" href="Base.Terms.Operations.html#8806" class="Function Operator">[</a> <a id="2255" href="Clones.TermOps.html#2210" class="Bound">s</a> <a id="2257" href="Base.Terms.Operations.html#8806" class="Function Operator">]t</a> <a id="2260" href="Base.Structures.Terms.html#1516" class="Function Operator">⟧</a><a id="2261" class="Symbol">)</a> <a id="2263" href="Clones.TermOps.html#2214" class="Bound">as</a> <a id="2266" class="Symbol">)</a>
                                             <a id="2313" class="Symbol">(</a> <a id="2315" class="Symbol">λ</a> <a id="2317" href="Clones.TermOps.html#2317" class="Bound">j</a> <a id="2319" class="Symbol">→</a> <a id="2321" class="Symbol">(</a><a id="2322" href="Clones.TermOps.html#2212" class="Bound">𝑨</a> <a id="2324" href="Base.Structures.Terms.html#1516" class="Function Operator">⟦</a> <a id="2326" href="Clones.TermOps.html#2207" class="Bound">t</a> <a id="2328" href="Clones.TermOps.html#2317" class="Bound">j</a> <a id="2330" href="Base.Structures.Terms.html#1516" class="Function Operator">⟧</a><a id="2331" class="Symbol">)</a> <a id="2333" class="Symbol">(λ</a> <a id="2336" href="Clones.TermOps.html#2336" class="Bound">i</a> <a id="2338" class="Symbol">→</a> <a id="2340" class="Symbol">(</a><a id="2341" href="Clones.TermOps.html#2212" class="Bound">𝑨</a> <a id="2343" href="Base.Structures.Terms.html#1516" class="Function Operator">⟦</a> <a id="2345" href="Clones.TermOps.html#2210" class="Bound">s</a> <a id="2347" href="Clones.TermOps.html#2336" class="Bound">i</a> <a id="2349" href="Base.Structures.Terms.html#1516" class="Function Operator">⟧</a><a id="2350" class="Symbol">)</a> <a id="2352" href="Clones.TermOps.html#2214" class="Bound">as</a><a id="2354" class="Symbol">)</a>  <a id="2357" class="Symbol">)</a>
                                             <a id="2404" class="Symbol">λ</a> <a id="2406" href="Clones.TermOps.html#2406" class="Bound">j</a> <a id="2408" class="Symbol">→</a> <a id="2410" href="Clones.TermOps.html#1818" class="Function">subst-lemma-t</a> <a id="2424" href="Clones.TermOps.html#2191" class="Bound">wd</a> <a id="2427" class="Symbol">(</a><a id="2428" href="Clones.TermOps.html#2207" class="Bound">t</a> <a id="2430" href="Clones.TermOps.html#2406" class="Bound">j</a><a id="2431" class="Symbol">)</a> <a id="2433" href="Clones.TermOps.html#2210" class="Bound">s</a> <a id="2435" href="Clones.TermOps.html#2212" class="Bound">𝑨</a> <a id="2437" href="Clones.TermOps.html#2214" class="Bound">as</a>

<a id="2441" class="Keyword">open</a> <a id="2446" class="Keyword">import</a> <a id="2453" href="Clones.Basic.html" class="Module">Clones.Basic</a> <a id="2466" class="Keyword">using</a> <a id="2472" class="Symbol">(</a> <a id="2474" href="Clones.Basic.html#2254" class="Function">isClon</a> <a id="2481" class="Symbol">)</a>

<a id="TermOpsIsClon"></a><a id="2484" href="Clones.TermOps.html#2484" class="Function">TermOpsIsClon</a> <a id="2498" class="Symbol">:</a> <a id="2500" class="Symbol">{</a> <a id="2502" href="Clones.TermOps.html#2502" class="Bound">𝐹</a> <a id="2504" class="Symbol">:</a> <a id="2506" href="Base.Structures.Basic.html#1233" class="Record">signature</a> <a id="2516" href="Clones.TermOps.html#1315" class="Generalizable">𝓞₀</a> <a id="2519" href="Clones.TermOps.html#1318" class="Generalizable">𝓥₀</a><a id="2521" class="Symbol">}</a> <a id="2523" class="Symbol">→</a> <a id="2525" class="Symbol">(∀</a> <a id="2528" href="Clones.TermOps.html#2528" class="Bound">ℓ</a> <a id="2530" href="Clones.TermOps.html#2530" class="Bound">ℓ&#39;</a> <a id="2533" class="Symbol">→</a> <a id="2535" href="Base.Equality.Welldefined.html#2509" class="Function">swelldef</a> <a id="2544" href="Clones.TermOps.html#2528" class="Bound">ℓ</a> <a id="2546" href="Clones.TermOps.html#2530" class="Bound">ℓ&#39;</a> <a id="2549" class="Symbol">)</a>
                <a id="2567" class="Symbol">→</a> <a id="2569" class="Symbol">(</a><a id="2570" href="Clones.TermOps.html#2570" class="Bound">𝑨</a> <a id="2572" class="Symbol">:</a> <a id="2574" href="Base.Structures.Basic.html#1566" class="Record">structure</a> <a id="2584" href="Clones.TermOps.html#2502" class="Bound">𝐹</a> <a id="2586" href="Clones.TermOps.html#1359" class="Generalizable">𝑅</a> <a id="2588" class="Symbol">{</a><a id="2589" href="Clones.TermOps.html#727" class="Generalizable">α</a><a id="2590" class="Symbol">}</a> <a id="2592" class="Symbol">{</a><a id="2593" href="Clones.TermOps.html#729" class="Generalizable">ρ</a><a id="2594" class="Symbol">})</a>
                <a id="2613" class="Comment">------------------------------------</a>
                <a id="2666" class="Symbol">→</a> <a id="2668" href="Clones.Basic.html#2254" class="Function">isClon</a> <a id="2675" class="Symbol">{</a><a id="2676" class="Argument">A</a> <a id="2678" class="Symbol">=</a> <a id="2680" href="Base.Structures.Basic.html#1730" class="Field">carrier</a> <a id="2688" href="Clones.TermOps.html#2570" class="Bound">𝑨</a><a id="2689" class="Symbol">}</a> <a id="2691" class="Symbol">(</a><a id="2692" href="Clones.TermOps.html#1381" class="Function">TermOps</a> <a id="2700" href="Clones.TermOps.html#2570" class="Bound">𝑨</a><a id="2701" class="Symbol">)</a>
<a id="2703" href="Clones.TermOps.html#2484" class="Function">TermOpsIsClon</a> <a id="2717" href="Clones.TermOps.html#2717" class="Bound">wd</a> <a id="2720" href="Clones.TermOps.html#2720" class="Bound">𝑨</a> <a id="2722" class="Symbol">=</a> <a id="2724" class="Symbol">(</a> <a id="2726" class="Symbol">(λ</a> <a id="2729" href="Clones.TermOps.html#2729" class="Bound">n</a> <a id="2731" class="Symbol">→</a> <a id="2733" class="Symbol">λ</a> <a id="2735" href="Clones.TermOps.html#2735" class="Bound">k</a> <a id="2737" class="Symbol">→</a> <a id="2739" class="Symbol">(</a> <a id="2741" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">Term.ℊ</a> <a id="2748" href="Clones.TermOps.html#2735" class="Bound">k</a> <a id="2750" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2752" class="Symbol">λ</a> <a id="2754" href="Clones.TermOps.html#2754" class="Bound">as</a> <a id="2757" class="Symbol">→</a>  <a id="2760" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="2765" class="Symbol">))</a> <a id="2768" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a>
                    <a id="2790" class="Symbol">λ</a> <a id="2792" href="Clones.TermOps.html#2792" class="Bound">n</a> <a id="2794" href="Clones.TermOps.html#2794" class="Bound">m</a> <a id="2796" class="Symbol">→</a> <a id="2798" class="Symbol">λ</a> <a id="2800" href="Clones.TermOps.html#2800" class="Bound">f</a> <a id="2802" class="Symbol">→</a> <a id="2804" class="Symbol">λ</a> <a id="2806" href="Clones.TermOps.html#2806" class="Bound">gs</a> <a id="2809" class="Symbol">→</a> <a id="2811" class="Symbol">λ</a> <a id="2813" href="Clones.TermOps.html#2813" class="Bound">tf</a> <a id="2816" class="Symbol">→</a> <a id="2818" class="Symbol">λ</a> <a id="2820" href="Clones.TermOps.html#2820" class="Bound">tgs</a> <a id="2824" class="Symbol">→</a> <a id="2826" class="Symbol">(</a> <a id="2828" class="Symbol">(</a><a id="2829" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="2835" href="Clones.TermOps.html#2813" class="Bound">tf</a><a id="2837" class="Symbol">)</a> <a id="2839" href="Base.Terms.Operations.html#8806" class="Function Operator">[</a> <a id="2841" class="Symbol">(λ</a> <a id="2844" href="Clones.TermOps.html#2844" class="Bound">i</a> <a id="2846" class="Symbol">→</a> <a id="2848" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="2854" class="Symbol">(</a><a id="2855" href="Clones.TermOps.html#2820" class="Bound">tgs</a> <a id="2859" href="Clones.TermOps.html#2844" class="Bound">i</a><a id="2860" class="Symbol">))</a> <a id="2863" href="Base.Terms.Operations.html#8806" class="Function Operator">]t</a> <a id="2866" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2868" class="Symbol">λ</a> <a id="2870" href="Clones.TermOps.html#2870" class="Bound">as</a> <a id="2873" class="Symbol">→</a> 
                      <a id="2898" href="Clones.TermOps.html#2800" class="Bound">f</a> <a id="2900" class="Symbol">(λ</a> <a id="2903" href="Clones.TermOps.html#2903" class="Bound">i</a> <a id="2905" class="Symbol">→</a> <a id="2907" href="Clones.TermOps.html#2806" class="Bound">gs</a> <a id="2910" href="Clones.TermOps.html#2903" class="Bound">i</a> <a id="2912" href="Clones.TermOps.html#2870" class="Bound">as</a><a id="2914" class="Symbol">)</a>
                    <a id="2936" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="2939" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="2945" href="Clones.TermOps.html#2813" class="Bound">tf</a> <a id="2948" class="Symbol">(λ</a> <a id="2951" href="Clones.TermOps.html#2951" class="Bound">i</a> <a id="2953" class="Symbol">→</a> <a id="2955" href="Clones.TermOps.html#2806" class="Bound">gs</a> <a id="2958" href="Clones.TermOps.html#2951" class="Bound">i</a> <a id="2960" href="Clones.TermOps.html#2870" class="Bound">as</a><a id="2962" class="Symbol">)</a> <a id="2964" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                      <a id="2988" class="Symbol">(</a><a id="2989" href="Clones.TermOps.html#2720" class="Bound">𝑨</a> <a id="2991" href="Base.Structures.Terms.html#1516" class="Function Operator">⟦</a> <a id="2993" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="2999" href="Clones.TermOps.html#2813" class="Bound">tf</a> <a id="3002" href="Base.Structures.Terms.html#1516" class="Function Operator">⟧</a><a id="3003" class="Symbol">)</a> <a id="3005" class="Symbol">(λ</a> <a id="3008" href="Clones.TermOps.html#3008" class="Bound">i</a> <a id="3010" class="Symbol">→</a> <a id="3012" href="Clones.TermOps.html#2806" class="Bound">gs</a> <a id="3015" href="Clones.TermOps.html#3008" class="Bound">i</a> <a id="3017" href="Clones.TermOps.html#2870" class="Bound">as</a><a id="3019" class="Symbol">)</a>
                    <a id="3041" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="3044" href="Clones.TermOps.html#2717" class="Bound">wd</a> <a id="3047" class="Symbol">_</a> <a id="3049" class="Symbol">_</a> <a id="3051" class="Symbol">(</a><a id="3052" href="Clones.TermOps.html#2720" class="Bound">𝑨</a> <a id="3054" href="Base.Structures.Terms.html#1516" class="Function Operator">⟦</a> <a id="3056" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3062" href="Clones.TermOps.html#2813" class="Bound">tf</a> <a id="3065" href="Base.Structures.Terms.html#1516" class="Function Operator">⟧</a><a id="3066" class="Symbol">)</a> <a id="3068" class="Symbol">(λ</a> <a id="3071" href="Clones.TermOps.html#3071" class="Bound">z</a> <a id="3073" class="Symbol">→</a> <a id="3075" href="Clones.TermOps.html#2806" class="Bound">gs</a> <a id="3078" href="Clones.TermOps.html#3071" class="Bound">z</a> <a id="3080" href="Clones.TermOps.html#2870" class="Bound">as</a><a id="3082" class="Symbol">)</a> <a id="3084" class="Symbol">(λ</a> <a id="3087" href="Clones.TermOps.html#3087" class="Bound">i</a> <a id="3089" class="Symbol">→</a> <a id="3091" class="Symbol">(</a><a id="3092" href="Clones.TermOps.html#2720" class="Bound">𝑨</a> <a id="3094" href="Base.Structures.Terms.html#1516" class="Function Operator">⟦</a> <a id="3096" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3102" class="Symbol">(</a><a id="3103" href="Clones.TermOps.html#2820" class="Bound">tgs</a> <a id="3107" href="Clones.TermOps.html#3087" class="Bound">i</a><a id="3108" class="Symbol">)</a><a id="3109" href="Base.Structures.Terms.html#1516" class="Function Operator">⟧</a><a id="3110" class="Symbol">)</a> <a id="3112" href="Clones.TermOps.html#2870" class="Bound">as</a><a id="3114" class="Symbol">)</a> <a id="3116" class="Symbol">(λ</a> <a id="3119" href="Clones.TermOps.html#3119" class="Bound">i</a> <a id="3121" class="Symbol">→</a> <a id="3123" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="3129" class="Symbol">(</a><a id="3130" href="Clones.TermOps.html#2820" class="Bound">tgs</a> <a id="3134" href="Clones.TermOps.html#3119" class="Bound">i</a> <a id="3136" class="Symbol">)</a> <a id="3138" href="Clones.TermOps.html#2870" class="Bound">as</a><a id="3140" class="Symbol">)</a> <a id="3142" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                      <a id="3166" class="Symbol">(</a><a id="3167" href="Clones.TermOps.html#2720" class="Bound">𝑨</a> <a id="3169" href="Base.Structures.Terms.html#1516" class="Function Operator">⟦</a> <a id="3171" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3177" href="Clones.TermOps.html#2813" class="Bound">tf</a> <a id="3180" href="Base.Structures.Terms.html#1516" class="Function Operator">⟧</a><a id="3181" class="Symbol">)</a> <a id="3183" class="Symbol">(λ</a> <a id="3186" href="Clones.TermOps.html#3186" class="Bound">i</a> <a id="3188" class="Symbol">→</a> <a id="3190" class="Symbol">(</a><a id="3191" href="Clones.TermOps.html#2720" class="Bound">𝑨</a> <a id="3193" href="Base.Structures.Terms.html#1516" class="Function Operator">⟦</a> <a id="3195" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3201" class="Symbol">(</a><a id="3202" href="Clones.TermOps.html#2820" class="Bound">tgs</a> <a id="3206" href="Clones.TermOps.html#3186" class="Bound">i</a><a id="3207" class="Symbol">)</a><a id="3208" href="Base.Structures.Terms.html#1516" class="Function Operator">⟧</a><a id="3209" class="Symbol">)</a> <a id="3211" href="Clones.TermOps.html#2870" class="Bound">as</a><a id="3213" class="Symbol">)</a>
                    <a id="3235" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="3238" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="3242" class="Symbol">(</a><a id="3243" href="Clones.TermOps.html#1818" class="Function">subst-lemma-t</a> <a id="3257" class="Symbol">(</a><a id="3258" href="Clones.TermOps.html#2717" class="Bound">wd</a> <a id="3261" class="Symbol">_</a> <a id="3263" class="Symbol">_)</a> <a id="3266" class="Symbol">(</a><a id="3267" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3273" href="Clones.TermOps.html#2813" class="Bound">tf</a><a id="3275" class="Symbol">)</a> <a id="3277" class="Symbol">(λ</a> <a id="3280" href="Clones.TermOps.html#3280" class="Bound">i</a> <a id="3282" class="Symbol">→</a> <a id="3284" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3290" class="Symbol">(</a><a id="3291" href="Clones.TermOps.html#2820" class="Bound">tgs</a> <a id="3295" href="Clones.TermOps.html#3280" class="Bound">i</a><a id="3296" class="Symbol">))</a> <a id="3299" href="Clones.TermOps.html#2720" class="Bound">𝑨</a> <a id="3301" href="Clones.TermOps.html#2870" class="Bound">as</a><a id="3303" class="Symbol">)</a> <a id="3305" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                      <a id="3329" class="Symbol">(</a><a id="3330" href="Clones.TermOps.html#2720" class="Bound">𝑨</a> <a id="3332" href="Base.Structures.Terms.html#1516" class="Function Operator">⟦</a> <a id="3334" class="Symbol">(</a> <a id="3336" class="Symbol">(</a><a id="3337" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3343" href="Clones.TermOps.html#2813" class="Bound">tf</a><a id="3345" class="Symbol">)</a> <a id="3347" href="Base.Terms.Operations.html#8806" class="Function Operator">[</a> <a id="3349" class="Symbol">(λ</a> <a id="3352" href="Clones.TermOps.html#3352" class="Bound">i</a> <a id="3354" class="Symbol">→</a> <a id="3356" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3362" class="Symbol">(</a><a id="3363" href="Clones.TermOps.html#2820" class="Bound">tgs</a> <a id="3367" href="Clones.TermOps.html#3352" class="Bound">i</a><a id="3368" class="Symbol">)</a> <a id="3370" class="Symbol">)</a> <a id="3372" href="Base.Terms.Operations.html#8806" class="Function Operator">]t</a><a id="3374" class="Symbol">)</a> <a id="3376" href="Base.Structures.Terms.html#1516" class="Function Operator">⟧</a> <a id="3378" class="Symbol">)</a> <a id="3380" href="Clones.TermOps.html#2870" class="Bound">as</a>
                    <a id="3403" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>  <a id="3406" class="Symbol">)</a> <a id="3408" class="Symbol">)</a>
<a id="3410" class="Markup">```
</a><a id="3414" class="Background">
En varias ocaciones, a partir de un conjunto de operaciones $F$ y uno de relaciones $R$, vamos a querer hablar de la estructura dada por el conjunto $A$ y con el lenguaje que tiene un símbolo para cada operación en $F$ y un símbolo de relación para cada relación en $R$, interpretados de la manera esperable. Denotaremos con ⟨ $A$, $F$, $R$ ⟩ a dicha estructura.


</a><a id="3780" class="Markup">```agda
</a>
<a id="3789" class="Comment">-- a partir de un subconjunto, nos generamos una signatura con un símbolo para cada elemento</a>
<a id="SubType"></a><a id="3882" href="Clones.TermOps.html#3882" class="Function">SubType</a> <a id="3890" class="Symbol">:</a> <a id="3892" class="Symbol">{</a><a id="3893" href="Clones.TermOps.html#3893" class="Bound">U</a> <a id="3895" class="Symbol">:</a> <a id="3897" href="Clones.TermOps.html#270" class="Primitive">Type</a> <a id="3902" href="Clones.TermOps.html#731" class="Generalizable">β</a><a id="3903" class="Symbol">}</a> <a id="3905" class="Symbol">→</a> <a id="3907" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="3912" href="Clones.TermOps.html#3893" class="Bound">U</a> <a id="3914" href="Clones.TermOps.html#729" class="Generalizable">ρ</a> <a id="3916" class="Symbol">→</a> <a id="3918" href="Clones.TermOps.html#270" class="Primitive">Type</a> <a id="3923" class="Symbol">(</a><a id="3924" href="Clones.TermOps.html#731" class="Generalizable">β</a> <a id="3926" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="3928" href="Clones.TermOps.html#729" class="Generalizable">ρ</a><a id="3929" class="Symbol">)</a>
<a id="3931" href="Clones.TermOps.html#3882" class="Function">SubType</a> <a id="3939" class="Symbol">{</a><a id="3940" class="Argument">U</a> <a id="3942" class="Symbol">=</a> <a id="3944" href="Clones.TermOps.html#3944" class="Bound">U</a><a id="3945" class="Symbol">}</a> <a id="3947" href="Clones.TermOps.html#3947" class="Bound">P</a> <a id="3949" class="Symbol">=</a> <a id="3951" href="Data.Product.html#925" class="Function">Σ[</a> <a id="3954" href="Clones.TermOps.html#3954" class="Bound">a</a> <a id="3956" href="Data.Product.html#925" class="Function">∈</a> <a id="3958" href="Clones.TermOps.html#3944" class="Bound">U</a> <a id="3960" href="Data.Product.html#925" class="Function">]</a> <a id="3962" class="Symbol">(</a><a id="3963" href="Clones.TermOps.html#3947" class="Bound">P</a> <a id="3965" href="Clones.TermOps.html#3954" class="Bound">a</a><a id="3966" class="Symbol">)</a>

<a id="3969" class="Comment">-- signatura para un conjunto de operaciones</a>
<a id="Ops-sig"></a><a id="4014" href="Clones.TermOps.html#4014" class="Function">Ops-sig</a> <a id="4022" class="Symbol">:</a> <a id="4024" class="Symbol">{</a><a id="4025" href="Clones.TermOps.html#4025" class="Bound">A</a> <a id="4027" class="Symbol">:</a> <a id="4029" href="Clones.TermOps.html#270" class="Primitive">Type</a> <a id="4034" href="Clones.TermOps.html#727" class="Generalizable">α</a><a id="4035" class="Symbol">}</a> <a id="4037" class="Symbol">→</a> <a id="4039" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="4044" class="Symbol">(</a><a id="4045" href="Clones.Basic.html#899" class="Function">FinOps</a> <a id="4052" href="Clones.TermOps.html#4025" class="Bound">A</a><a id="4053" class="Symbol">)</a> <a id="4055" href="Clones.TermOps.html#729" class="Generalizable">ρ</a> <a id="4057" class="Symbol">→</a> <a id="4059" href="Base.Structures.Basic.html#1233" class="Record">signature</a> <a id="4069" class="Symbol">(</a><a id="4070" href="Clones.TermOps.html#727" class="Generalizable">α</a> <a id="4072" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="4074" href="Clones.TermOps.html#729" class="Generalizable">ρ</a><a id="4075" class="Symbol">)</a> <a id="4077" href="Agda.Primitive.html#758" class="Primitive">Level.zero</a>
<a id="4088" href="Clones.TermOps.html#4014" class="Function">Ops-sig</a> <a id="4096" href="Clones.TermOps.html#4096" class="Bound">F</a> <a id="4098" class="Symbol">=</a> <a id="4100" class="Keyword">record</a> <a id="4107" class="Symbol">{</a><a id="4108" href="Base.Structures.Basic.html#1293" class="Field">symbol</a> <a id="4115" class="Symbol">=</a> <a id="4117" href="Clones.TermOps.html#3882" class="Function">SubType</a> <a id="4125" href="Clones.TermOps.html#4096" class="Bound">F</a> <a id="4127" class="Symbol">;</a> <a id="4129" href="Base.Structures.Basic.html#1311" class="Field">arity</a> <a id="4135" class="Symbol">=</a> <a id="4137" class="Symbol">λ</a> <a id="4139" href="Clones.TermOps.html#4139" class="Bound">f</a> <a id="4141" class="Symbol">→</a> <a id="4143" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="4147" class="Symbol">(</a><a id="4148" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="4154" class="Symbol">(</a><a id="4155" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="4161" href="Clones.TermOps.html#4139" class="Bound">f</a><a id="4162" class="Symbol">))}</a>

<a id="4167" class="Comment">-- signatura para un conjunto de relaciones</a>
<a id="Rels-sig"></a><a id="4211" href="Clones.TermOps.html#4211" class="Function">Rels-sig</a> <a id="4220" class="Symbol">:</a> <a id="4222" class="Symbol">{</a><a id="4223" href="Clones.TermOps.html#4223" class="Bound">A</a> <a id="4225" class="Symbol">:</a> <a id="4227" href="Clones.TermOps.html#270" class="Primitive">Type</a> <a id="4232" href="Clones.TermOps.html#727" class="Generalizable">α</a><a id="4233" class="Symbol">}</a> <a id="4235" class="Symbol">→</a> <a id="4237" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="4242" class="Symbol">(</a><a id="4243" href="Clones.Basic.html#1279" class="Function">FinRels</a> <a id="4251" href="Clones.TermOps.html#4223" class="Bound">A</a><a id="4252" class="Symbol">)</a> <a id="4254" href="Clones.TermOps.html#729" class="Generalizable">ρ</a> <a id="4256" class="Symbol">→</a> <a id="4258" href="Base.Structures.Basic.html#1233" class="Record">signature</a> <a id="4268" class="Symbol">(</a><a id="4269" href="Agda.Primitive.html#774" class="Primitive">suc</a> <a id="4273" href="Clones.TermOps.html#727" class="Generalizable">α</a> <a id="4275" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="4277" href="Clones.TermOps.html#729" class="Generalizable">ρ</a><a id="4278" class="Symbol">)</a> <a id="4280" href="Agda.Primitive.html#758" class="Primitive">Level.zero</a>
<a id="4291" href="Clones.TermOps.html#4211" class="Function">Rels-sig</a> <a id="4300" href="Clones.TermOps.html#4300" class="Bound">R</a> <a id="4302" class="Symbol">=</a> <a id="4304" class="Keyword">record</a> <a id="4311" class="Symbol">{</a><a id="4312" href="Base.Structures.Basic.html#1293" class="Field">symbol</a> <a id="4319" class="Symbol">=</a> <a id="4321" href="Clones.TermOps.html#3882" class="Function">SubType</a> <a id="4329" href="Clones.TermOps.html#4300" class="Bound">R</a> <a id="4331" class="Symbol">;</a> <a id="4333" href="Base.Structures.Basic.html#1311" class="Field">arity</a> <a id="4339" class="Symbol">=</a> <a id="4341" class="Symbol">λ</a> <a id="4343" href="Clones.TermOps.html#4343" class="Bound">r</a> <a id="4345" class="Symbol">→</a> <a id="4347" href="Data.Fin.Base.html#1135" class="Datatype">Fin</a> <a id="4351" class="Symbol">(</a><a id="4352" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="4358" class="Symbol">(</a><a id="4359" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="4365" href="Clones.TermOps.html#4343" class="Bound">r</a><a id="4366" class="Symbol">))}</a>

<a id="4371" class="Comment">-- estructura inducida por F y R</a>
<a id="⟨_,_,_⟩"></a><a id="4404" href="Clones.TermOps.html#4404" class="Function Operator">⟨_,_,_⟩</a> <a id="4412" class="Symbol">:</a> <a id="4414" class="Symbol">(</a><a id="4415" href="Clones.TermOps.html#4415" class="Bound">A</a> <a id="4417" class="Symbol">:</a> <a id="4419" href="Clones.TermOps.html#270" class="Primitive">Type</a> <a id="4424" href="Clones.TermOps.html#727" class="Generalizable">α</a><a id="4425" class="Symbol">)</a> <a id="4427" class="Symbol">→</a> <a id="4429" class="Symbol">(</a><a id="4430" href="Clones.TermOps.html#4430" class="Bound">F</a> <a id="4432" class="Symbol">:</a> <a id="4434" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="4439" class="Symbol">(</a><a id="4440" href="Clones.Basic.html#899" class="Function">FinOps</a> <a id="4447" href="Clones.TermOps.html#4415" class="Bound">A</a><a id="4448" class="Symbol">)</a> <a id="4450" href="Clones.TermOps.html#729" class="Generalizable">ρ</a><a id="4451" class="Symbol">)</a> <a id="4453" class="Symbol">→</a> <a id="4455" class="Symbol">(</a><a id="4456" href="Clones.TermOps.html#4456" class="Bound">R</a> <a id="4458" class="Symbol">:</a> <a id="4460" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="4465" class="Symbol">(</a><a id="4466" href="Clones.Basic.html#1279" class="Function">FinRels</a> <a id="4474" href="Clones.TermOps.html#4415" class="Bound">A</a><a id="4475" class="Symbol">)</a> <a id="4477" href="Clones.TermOps.html#729" class="Generalizable">ρ</a><a id="4478" class="Symbol">)</a>
         <a id="4489" class="Comment">------------------------------------------------------------ </a>
         <a id="4560" class="Symbol">→</a> <a id="4562" href="Base.Structures.Basic.html#1566" class="Record">structure</a> <a id="4572" class="Symbol">(</a><a id="4573" href="Clones.TermOps.html#4014" class="Function">Ops-sig</a> <a id="4581" class="Symbol">{</a><a id="4582" class="Argument">A</a> <a id="4584" class="Symbol">=</a> <a id="4586" href="Clones.TermOps.html#4415" class="Bound">A</a><a id="4587" class="Symbol">}</a> <a id="4589" href="Clones.TermOps.html#4430" class="Bound">F</a><a id="4590" class="Symbol">)</a> <a id="4592" class="Symbol">(</a><a id="4593" href="Clones.TermOps.html#4211" class="Function">Rels-sig</a> <a id="4602" class="Symbol">{</a><a id="4603" class="Argument">A</a> <a id="4605" class="Symbol">=</a> <a id="4607" href="Clones.TermOps.html#4415" class="Bound">A</a><a id="4608" class="Symbol">}</a> <a id="4610" href="Clones.TermOps.html#4456" class="Bound">R</a><a id="4611" class="Symbol">)</a> <a id="4613" class="Symbol">{</a><a id="4614" href="Clones.TermOps.html#727" class="Generalizable">α</a><a id="4615" class="Symbol">}</a> <a id="4617" class="Symbol">{</a><a id="4618" href="Clones.TermOps.html#727" class="Generalizable">α</a><a id="4619" class="Symbol">}</a>
<a id="4621" href="Clones.TermOps.html#4404" class="Function Operator">⟨</a> <a id="4623" href="Clones.TermOps.html#4623" class="Bound">A</a> <a id="4625" href="Clones.TermOps.html#4404" class="Function Operator">,</a> <a id="4627" href="Clones.TermOps.html#4627" class="Bound">F</a> <a id="4629" href="Clones.TermOps.html#4404" class="Function Operator">,</a> <a id="4631" href="Clones.TermOps.html#4631" class="Bound">R</a> <a id="4633" href="Clones.TermOps.html#4404" class="Function Operator">⟩</a> <a id="4635" class="Symbol">=</a> <a id="4637" class="Keyword">record</a> <a id="4644" class="Symbol">{</a><a id="4645" href="Base.Structures.Basic.html#1730" class="Field">carrier</a> <a id="4653" class="Symbol">=</a> <a id="4655" href="Clones.TermOps.html#4623" class="Bound">A</a> <a id="4657" class="Symbol">;</a> <a id="4659" href="Base.Structures.Basic.html#1749" class="Field">op</a> <a id="4662" class="Symbol">=</a> <a id="4664" class="Symbol">λ</a> <a id="4666" href="Clones.TermOps.html#4666" class="Bound">f</a> <a id="4668" class="Symbol">→</a> <a id="4670" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="4676" class="Symbol">(</a><a id="4677" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="4683" href="Clones.TermOps.html#4666" class="Bound">f</a><a id="4684" class="Symbol">)</a> <a id="4686" class="Symbol">;</a> <a id="4688" href="Base.Structures.Basic.html#1833" class="Field">rel</a> <a id="4692" class="Symbol">=</a> <a id="4694" class="Symbol">λ</a> <a id="4696" href="Clones.TermOps.html#4696" class="Bound">r</a> <a id="4698" class="Symbol">→</a> <a id="4700" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="4706" class="Symbol">(</a><a id="4707" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="4713" href="Clones.TermOps.html#4696" class="Bound">r</a><a id="4714" class="Symbol">)</a> <a id="4716" class="Symbol">}</a>

<a id="4719" class="Markup">```
</a><a id="4723" class="Background">
Si $F$∅ es el conjunto vacío de operaciones y $R$∅ el conjunto vacío de relaciones, entones ⟨ $A$, $F$∅, $R$ ⟩ es una estructura relacional y ⟨ $A$, $F$, $R$∅ ⟩ un álgebra. Y como tenemos un álgebra, podemos hablar del clon de las *term-operations*, denotado por Clo[ $A$ , $F$ ].

</a><a id="5006" class="Markup">```agda
</a>
<a id="5015" class="Keyword">data</a> <a id="⊥"></a><a id="5020" href="Clones.TermOps.html#5020" class="Datatype">⊥</a> <a id="5022" class="Symbol">{</a> <a id="5024" href="Clones.TermOps.html#5024" class="Bound">ρ</a> <a id="5026" class="Symbol">:</a> <a id="5028" href="Agda.Primitive.html#591" class="Postulate">Level</a> <a id="5034" class="Symbol">}</a> <a id="5036" class="Symbol">:</a> <a id="5038" href="Clones.TermOps.html#270" class="Primitive">Type</a> <a id="5043" href="Clones.TermOps.html#5024" class="Bound">ρ</a>  <a id="5046" class="Keyword">where</a>

<a id="5053" class="Comment">-- conjunto vacío de relaciones</a>
<a id="R∅"></a><a id="5085" href="Clones.TermOps.html#5085" class="Function">R∅</a> <a id="5088" class="Symbol">:</a> <a id="5090" class="Symbol">{</a><a id="5091" href="Clones.TermOps.html#5091" class="Bound">A</a> <a id="5093" class="Symbol">:</a> <a id="5095" href="Clones.TermOps.html#270" class="Primitive">Type</a> <a id="5100" href="Clones.TermOps.html#727" class="Generalizable">α</a> <a id="5102" class="Symbol">}</a> <a id="5104" class="Symbol">→</a> <a id="5106" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="5111" class="Symbol">(</a><a id="5112" href="Clones.Basic.html#1279" class="Function">FinRels</a> <a id="5120" href="Clones.TermOps.html#5091" class="Bound">A</a><a id="5121" class="Symbol">)</a> <a id="5123" href="Clones.TermOps.html#729" class="Generalizable">ρ</a>
<a id="5125" href="Clones.TermOps.html#5085" class="Function">R∅</a> <a id="5128" href="Clones.TermOps.html#5128" class="Bound">r</a> <a id="5130" class="Symbol">=</a> <a id="5132" href="Clones.TermOps.html#5020" class="Datatype">⊥</a>

<a id="5135" class="Comment">-- conjunto vacío de relaciones</a>
<a id="F∅"></a><a id="5167" href="Clones.TermOps.html#5167" class="Function">F∅</a> <a id="5170" class="Symbol">:</a> <a id="5172" class="Symbol">{</a><a id="5173" href="Clones.TermOps.html#5173" class="Bound">A</a> <a id="5175" class="Symbol">:</a> <a id="5177" href="Clones.TermOps.html#270" class="Primitive">Type</a> <a id="5182" href="Clones.TermOps.html#727" class="Generalizable">α</a> <a id="5184" class="Symbol">}</a> <a id="5186" class="Symbol">→</a> <a id="5188" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="5193" class="Symbol">(</a><a id="5194" href="Clones.Basic.html#899" class="Function">FinOps</a> <a id="5201" href="Clones.TermOps.html#5173" class="Bound">A</a><a id="5202" class="Symbol">)</a> <a id="5204" href="Clones.TermOps.html#729" class="Generalizable">ρ</a>
<a id="5206" href="Clones.TermOps.html#5167" class="Function">F∅</a> <a id="5209" href="Clones.TermOps.html#5209" class="Bound">f</a> <a id="5211" class="Symbol">=</a> <a id="5213" href="Clones.TermOps.html#5020" class="Datatype">⊥</a> 

<a id="Clo[_,_]"></a><a id="5217" href="Clones.TermOps.html#5217" class="Function Operator">Clo[_,_]</a> <a id="5226" class="Symbol">:</a> <a id="5228" class="Symbol">(</a><a id="5229" href="Clones.TermOps.html#5229" class="Bound">A</a> <a id="5231" class="Symbol">:</a> <a id="5233" href="Clones.TermOps.html#270" class="Primitive">Type</a> <a id="5238" href="Clones.TermOps.html#727" class="Generalizable">α</a><a id="5239" class="Symbol">)</a> <a id="5241" class="Symbol">→</a> <a id="5243" class="Symbol">(</a><a id="5244" href="Clones.TermOps.html#5244" class="Bound">F</a> <a id="5246" class="Symbol">:</a> <a id="5248" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="5253" class="Symbol">(</a><a id="5254" href="Clones.Basic.html#899" class="Function">FinOps</a> <a id="5261" href="Clones.TermOps.html#5229" class="Bound">A</a><a id="5262" class="Symbol">)</a> <a id="5264" href="Clones.TermOps.html#729" class="Generalizable">ρ</a><a id="5265" class="Symbol">)</a> <a id="5267" class="Symbol">→</a>  <a id="5270" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="5275" class="Symbol">(</a><a id="5276" href="Clones.Basic.html#899" class="Function">FinOps</a> <a id="5283" href="Clones.TermOps.html#5229" class="Bound">A</a><a id="5284" class="Symbol">)</a> <a id="5286" class="Symbol">(</a><a id="5287" href="Agda.Primitive.html#774" class="Primitive">suc</a> <a id="5291" href="Agda.Primitive.html#758" class="Primitive">Level.zero</a> <a id="5302" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="5304" href="Clones.TermOps.html#727" class="Generalizable">α</a> <a id="5306" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="5308" href="Clones.TermOps.html#729" class="Generalizable">ρ</a><a id="5309" class="Symbol">)</a>
<a id="5311" href="Clones.TermOps.html#5217" class="Function Operator">Clo[</a> <a id="5316" href="Clones.TermOps.html#5316" class="Bound">A</a> <a id="5318" href="Clones.TermOps.html#5217" class="Function Operator">,</a> <a id="5320" href="Clones.TermOps.html#5320" class="Bound">F</a> <a id="5322" href="Clones.TermOps.html#5217" class="Function Operator">]</a> <a id="5324" class="Symbol">=</a> <a id="5326" href="Clones.TermOps.html#1381" class="Function">TermOps</a> <a id="5334" href="Clones.TermOps.html#4404" class="Function Operator">⟨</a> <a id="5336" href="Clones.TermOps.html#5316" class="Bound">A</a> <a id="5338" href="Clones.TermOps.html#4404" class="Function Operator">,</a> <a id="5340" href="Clones.TermOps.html#5320" class="Bound">F</a> <a id="5342" href="Clones.TermOps.html#4404" class="Function Operator">,</a> <a id="5344" href="Clones.TermOps.html#5085" class="Function">R∅</a> <a id="5347" class="Symbol">{</a><a id="5348" class="Argument">A</a> <a id="5350" class="Symbol">=</a> <a id="5352" href="Clones.TermOps.html#5316" class="Bound">A</a><a id="5353" class="Symbol">}</a> <a id="5355" href="Clones.TermOps.html#4404" class="Function Operator">⟩</a>

<a id="5358" class="Markup">```
</a><a id="5362" class="Background">
El clon de las *term-operations* dado por Clo[ $A$ , $F$ ] coincide con el clon generado por $F$.

</a><a id="5462" class="Markup">```agda
</a>
<a id="5471" class="Comment">-- Lema:  [F] = clon(A,F)</a>
<a id="5497" class="Keyword">open</a> <a id="5502" class="Keyword">import</a> <a id="5509" href="Clones.Basic.html" class="Module">Clones.Basic</a> <a id="5522" class="Keyword">using</a> <a id="5528" class="Symbol">(</a> <a id="5530" href="Clones.Basic.html#2801" class="Datatype Operator">[_]</a> <a id="5534" class="Symbol">)</a>

<a id="5537" class="Comment">-- TermOps 𝑨 ( n , f ) = Σ[ t ∈ Term (Fin n) ] (∀ as → f as ≡ (𝑨 ⟦ t ⟧) as)</a>

<a id="[F]≡Clo[A,F]"></a><a id="5614" href="Clones.TermOps.html#5614" class="Function">[F]≡Clo[A,F]</a> <a id="5627" class="Symbol">:</a> <a id="5629" class="Symbol">(</a><a id="5630" href="Clones.TermOps.html#5630" class="Bound">A</a> <a id="5632" class="Symbol">:</a> <a id="5634" href="Clones.TermOps.html#270" class="Primitive">Type</a> <a id="5639" href="Clones.TermOps.html#727" class="Generalizable">α</a><a id="5640" class="Symbol">)</a> <a id="5642" class="Symbol">(</a><a id="5643" href="Clones.TermOps.html#5643" class="Bound">F</a> <a id="5645" class="Symbol">:</a> <a id="5647" href="Relation.Unary.html#1110" class="Function">Pred</a> <a id="5652" class="Symbol">(</a><a id="5653" href="Clones.Basic.html#899" class="Function">FinOps</a> <a id="5660" href="Clones.TermOps.html#5630" class="Bound">A</a><a id="5661" class="Symbol">)</a> <a id="5663" href="Clones.TermOps.html#729" class="Generalizable">ρ</a><a id="5664" class="Symbol">)</a>
               <a id="5681" class="Comment">----------------------</a>
               <a id="5719" class="Symbol">→</a> <a id="5721" href="Clones.TermOps.html#5217" class="Function Operator">Clo[</a> <a id="5726" href="Clones.TermOps.html#5630" class="Bound">A</a> <a id="5728" href="Clones.TermOps.html#5217" class="Function Operator">,</a> <a id="5730" href="Clones.TermOps.html#5643" class="Bound">F</a> <a id="5732" href="Clones.TermOps.html#5217" class="Function Operator">]</a> <a id="5734" href="Overture.Basic.html#9592" class="Function Operator">≈</a> <a id="5736" href="Clones.Basic.html#2801" class="Datatype Operator">[</a> <a id="5738" href="Clones.TermOps.html#5643" class="Bound">F</a> <a id="5740" href="Clones.Basic.html#2801" class="Datatype Operator">]</a>
<a id="5742" href="Clones.TermOps.html#5614" class="Function">[F]≡Clo[A,F]</a> <a id="5755" href="Clones.TermOps.html#5755" class="Bound">A</a> <a id="5757" href="Clones.TermOps.html#5757" class="Bound">F</a> <a id="5759" class="Symbol">=</a> <a id="5761" class="Symbol">λ</a> <a id="5763" class="Symbol">(</a> <a id="5765" href="Clones.TermOps.html#5765" class="Bound">n</a> <a id="5767" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5769" href="Clones.TermOps.html#5769" class="Bound">f</a> <a id="5771" class="Symbol">)</a> <a id="5773" class="Symbol">→</a>  <a id="5776" class="Hole">{!!}</a>

<a id="5782" class="Markup">```
</a></pre></body></html>